{"version":3,"file":"logout.js","sourceRoot":"","sources":["../../../src/handlers/google-login/logout.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,qBAAqB,EAAE,MAAM,qBAAqB,CAAA;AAC3D,OAAO,EAAE,kBAAkB,EAAE,kBAAkB,EAAE,MAAM,SAAS,CAAA;AAEhE,MAAM,CAAC,KAAK,UAAU,kBAAkB,CAAC,QAAiB,EAAE,UAAU,GAAG,GAAG,EAAE,MAAe;IAE3F,MAAM,OAAO,GAAG,kBAAkB,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAE,EAAE,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAA;IACpF,KAAK,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QAAE,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;IAErG,OAAO,IAAI,QAAQ,CAAC,IAAI,EAAE;QACxB,MAAM,EAAE,GAAG;QACX,OAAO;KACR,CAAC,CAAA;AACJ,CAAC","sourcesContent":["import { corsHeadersWithOrigin } from '../../services/cors'\nimport { clearSessionCookie, headersWithCookies } from './utils'\n\nexport async function handleGoogleLogout(_request: Request, redirectTo = '/', origin?: string) {\n\n  const headers = headersWithCookies({ Location: redirectTo }, [clearSessionCookie()])\n  for (const [k, v] of Object.entries((origin ? corsHeadersWithOrigin(origin) : {}))) headers.set(k, v)\n\n  return new Response(null, {\n    status: 302,\n    headers,\n  })\n}\n"]}